<#include "sidebar.html" />   

<div class="row">

    <div class="span3">             
        <@sidebar step="portlet" />
        <div class="portlet-background-content">         
            #i18n{pluginwizard.pluginwizard_manage_plugin_portlets.pageHelp}
        </div>  
    </div>

    <div class="span8">
        <h4>#i18n{pluginwizard.pluginwizard_manage_plugin_portlets.pageTitle}</h4>

        <div class="pull-right"> 
            <form class="default-form" method="post" name="generate"
                  action="jsp/site/Portal.jsp"><input
                    type="hidden" name="page" value="pluginwizard" /> <input type="hidden"
                    name="action" value="manage_plugin_portlets" /> <input
                    type="hidden" name="plugin_id" value="${plugin_id}" />

                <button type="submit" name="goToCreatePluginPortlet" class="btn btn-primary">
                    <i class="icon-plus icon-white"></i>
                    #i18n{pluginwizard.pluginwizard_manage_plugin_portlets.buttonAddPortlet}
                </button>
            </form>
        </div>

        <table class="table table-condensed table-striped">
            <thead>
                <tr>
                    <th scope="col" class="rounded-head-left">#i18n{pluginwizard.pluginwizard_manage_plugin_portlets.labelPortletClass}</th>
                    <th scope="col">#i18n{pluginwizard.pluginwizard_manage_plugin_portlets.labelPortletTypeName}</th>
                    <th scope="col">#i18n{pluginwizard.pluginwizard_manage_plugin_portlets.labelPortletCreationUrl}</th>
                    <th scope="col">#i18n{pluginwizard.pluginwizard_manage_plugin_portlets.labelPortletUpdateUrl}</th>
                    <th scope="col" class="rounded-head-right">#i18n{pluginwizard.pluginwizard_manage_plugin_portlets.labelPortletAction}</th>
                </tr>
            </thead>

            <tbody>
                <#if plugin_portlets?? > <#list plugin_portlets as plugin_portlet >
                <tr>
                    <#assign nEndIndex = plugin_portlet.pluginPortletClass?length>
                    <#assign nBeginIndex = plugin_portlet.pluginPortletClass?last_index_of(".")+1>

                    <td>${plugin_portlet.pluginPortletClass?substring(nBeginIndex, nEndIndex)}
                    </td>
                    <td>${plugin_portlet.pluginPortletTypeName}</td>
                    <td>${plugin_portlet.pluginPortletCreationUrl}</td>
                    <td>${plugin_portlet.pluginPortletUpdateUrl}</td>

                    <td>
                        <a class="btn btn-primary btn-small" href="jsp/site/Portal.jsp?page=pluginwizard&action=modify_portlet&plugin_id=${plugin_id}&portlet_id=${plugin_portlet.id}" 
                           title="#i18n{pluginwizard.pluginwizard_manage_plugin_admin_features.buttonModifyFeature}" >
                            <i class="icon-edit icon-white"></i>
                        </a>
                        <a class="btn btn-danger btn-small" href="jsp/site/Portal.jsp?page=pluginwizard&action=remove_plugin_portlet&plugin_id=${plugin_id}&portlet_id=${plugin_portlet.id}" 
                           title="#i18n{pluginwizard.pluginwizard_manage_plugin_admin_features.buttonRemoveFeature}" >
                            <i class="icon-trash icon-white"></i>
                        </a>
                    </td>
                    </#list> 
                    </#if>
                </tr>
            </tbody>
        </table>

        <div class="form-actions"> 
            <form class="default-form" method="post" name="generate"
                  action="jsp/site/Portal.jsp"><input
                    type="hidden" name="page" value="pluginwizard" /> <input type="hidden"
                    name="action" value="manage_plugin_portlets" /> <input
                    type="hidden" name="plugin_id" value="${plugin_id}" />

                <button type="submit" name="goToManagePluginApplications" class="btn btn-primary">
                    <i class="icon-chevron-left icon-white"></i>
                    #i18n{pluginwizard.pluginwizard_manage_plugin_portlets.buttonBack}
                </button>
                <button type="submit" name="goToGetRecapitulate" class="btn btn-primary">
                    #i18n{pluginwizard.pluginwizard_manage_plugin_portlets.buttonNext}
                    <i class="icon-chevron-right icon-white"></i>
                </button>
            </form>
        </div>
    </div>
</div>


