  <#assign nBeginIndex = portlet.portletTypeName?last_index_of("_")><#assign portletName = portlet.portletTypeName?substring(0, nBeginIndex)?lower_case>	
<#switch portlet_jsp_type>
 
 <#case 0>
<%@ page errorPage="../../ErrorPage.jsp" %>

<jsp:include page="../../PortletAdminHeader.jsp" />

<jsp:useBean id="${portlet.portletClass}" scope="session" class="fr.paris.lutece.plugins.${plugin_name}.web.portlet.${portlet.portletClass}JspBean" />

<% ${portlet.portletClass}.init( request, ${portlet.portletClass}.RIGHT_MANAGE_ADMIN_SITE ); %>
<%= ${portlet.portletClass}.getModify ( request ) %>

<%@ include file="../../AdminFooter.jsp" %>

 <#break>
 
  <#case 1>
<%@ page errorPage="../../ErrorPage.jsp" %>

<jsp:useBean id="${portlet.portletClass}" scope="session" class="fr.paris.lutece.plugins.${plugin_name}.web.portlet.${portlet.portletClass}JspBean" />

<%
    ${portlet.portletClass}.init( request, ${portlet.portletClass}.RIGHT_MANAGE_ADMIN_SITE );
    response.sendRedirect( ${portlet.portletClass}.doModify( request ) );
%>

 <#break>
 
  <#case 2>

<%@ page errorPage="../../ErrorPage.jsp" %>
<jsp:include page="../../PortletAdminHeader.jsp" />

<jsp:useBean id="${portlet.portletClass}" scope="session" class="fr.paris.lutece.plugins.${plugin_name}.web.portlet.${portlet.portletClass}JspBean" />

<% ${portlet.portletClass}.init( request, ${portlet.portletClass}.RIGHT_MANAGE_ADMIN_SITE); %>
<%= ${portlet.portletClass}.getCreate ( request ) %>

<%@ include file="../../AdminFooter.jsp" %>

 <#break>

  <#case 3>

<%@ page errorPage="../../ErrorPage.jsp" %>

<jsp:useBean id="${portlet.portletClass}" scope="session" class="fr.paris.lutece.plugins.${plugin_name}.web.portlet.${portlet.portletClass}JspBean" />

<%
    ${portlet.portletClass}.init( request, ${portlet.portletClass}.RIGHT_MANAGE_ADMIN_SITE );
    response.sendRedirect( ${portlet.portletClass}.doCreate( request ) );
%>
 <#break>


  <#default>
  
  </#switch>  

